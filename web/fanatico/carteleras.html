<!DOCTYPE html>
<html lang="en" ng-app="mainModule">
<head>
    <meta charset="UTF-8">
    <title>MyConcert by X-Fest</title>

    <script src="../assets/js/libs/angular.min.js"></script>
    <script src="../assets/js/libs/angular-spotify.js"></script>
    <script src="../assets/js/carteleras_controller.js"></script>
    <script src="../assets/js/models/carteleras_model.js"></script>
    <script src="../assets/js/libs/loading-bar.js"></script>
    <script src="../assets/js/libs/angular-datepicker.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="../assets/js/libs/angular-notify.js"></script>
    <script src="../assets/js/libs/angular-cookies.js"></script>
    <script src="../assets/js/libs/angular-ui-notification.min.js"></script>
    <link rel="stylesheet" href="../assets/styles/angular-ui-notification.min.css" />
    <script src="../assets/js/angular-session.js"></script>

    <link href='../assets/styles/loading-bar.css' rel='stylesheet' />
    <link rel="stylesheet" href="../assets/styles/basicStyles.css" />

    <link rel="stylesheet" href="../assets/styles/add_Cartelera.css" />
    <link rel="stylesheet" href="../assets/styles/angular-datepicker.css" />
    <link rel="stylesheet" href="../assets/styles/jquery-ui.css" />
    <link rel="stylesheet" href="../assets/styles/zModalStyle.css" />
    <link rel="stylesheet" href="../assets/styles/font-awesome.min.css" />

    <script>
        var counter = 0;
        function textCounter( field, maxlimit, text) {
            counter = maxlimit - text.value.length;
            field.value = counter;
        }
    </script>

</head>
<body ng-controller="cartelerasController" class="bodyall" >
    <div class="header">
        <a href="../index.html" style="float: left"><img src="../assets/imgs/logo.png" style="width: 100px; height: 100px"/></a>
        <div class="header_center"><h1>MyConcert</h1></div>
        <div ng-if="userType == 2" class="header_right-profile" ng-include="'nav_profile.html'"></div>
        <div ng-if="userType == 1" class="header_right-profile" style="height: 70px;"><div style="margin: auto">Dep. Promoción</div>
            <a ng-click="xExitSession()" class="navigation-button" style="margin: auto; margin-top: 5px;">Salir</a>
        </div>
    </div>

    <div class="bodycont">
        <div ng-include="'nav_menu.html'"></div>
        <a ng-if="userType == 1" data-toggle="modal" data-target="#addCartelera" style="width: 130px; float: right; margin-right:3px " href="#" class="navigation-button">Agregar Cartelera</a>

        <div ng-include="'createfestival_modal.html'"></div>

        <div class="body-carteleras">
            <div class="box-cartelera" ng-repeat="cartelera in carteleras">
                <div class="box-cartelera-title">{{cartelera.name}}</div>
                <div class="box-cartelera-image" ><image ng-src={{cartelera.image}}></image></div>
                <div class="box-cartelera-info">
                    <div class="box-cartelera-info-icon">
                        <i class="fa fa-globe fa-2x"></i>
                        <div class="box-cartelera-info-text">{{cartelera.location}}</div>
                    </div>
                    <div class="box-cartelera-info-icon">
                        <i class="fa fa-clock-o fa-2x"></i>
                        <div class="box-cartelera-info-text">{{cartelera.leftTime}} días restantes</div>
                    </div>
                </div>
                <a ng-if="userType == 2 && cartelera.state !='Cancelled'" ng-click="openVoteWindow(cartelera.id)" class="box-cartelera-button">Votar</a>
                <a ng-if="userType == 1 && cartelera.state !='Cancelled'" ng-click="showCreateFestivalModal(cartelera.localIndex)" class="box-cartelera-button" style="width: 120px ">Crear festival</a>
                <a ng-if="userType == 1 && cartelera.state !='Cancelled'" data-toggle="modal" data-target="#cancelarCarteleraModal" ng-click="cancelarCarteleraAux(cartelera.id)" class="box-cartelera-button">Cancelar</a>
                <h6><span style="font-size: 20px" ng-if="cartelera.state =='Cancelled'" class="label label-danger">Cancelado</span></h6>
            </div>
        </div>
        <div class="container"ng-include="'add_Cartelera.html'"></div>

    </div>

    <footer>
        <div class="footer">
            <a class="socialicon-fb" href="#"><i class="fa fa-facebook-official fa-2x"></i></a>
            <a class="socialicon-tw" href="#"><i class="fa fa-twitter-square fa-2x"></i></a>
            <a class="socialicon-yt" href="#"><i class="fa fa-youtube-square fa-2x"></i></a>
            <a class="socialicon-sp" href="#"><i class="fa fa-spotify fa-2x"></i></a><br>
            <a style="color: white"> 2017 | MyConcert by X-Fest | Todos los derechos reservados.</a>
        </div>
    </footer>

</body>


<div  class="container" >
    <!-- Trigger the modal with a button -->
    <!-- Modal -->
    <div  class="modal fade" id="cancelarCarteleraModal" role="dialog">
        <div style="width: 30%" class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">

                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h3>Está seguro?</h3>
                    <button style="float: right" type="button" data-dismiss="modal" ng-click="cancelarCartelera()" class="btn btn-success">Sí</button>
                    <button style="float: right" type="button" data-dismiss="modal" class="btn btn-danger">No</button>

                </div>
            </div>

        </div>

    </div>
</div>




</html>